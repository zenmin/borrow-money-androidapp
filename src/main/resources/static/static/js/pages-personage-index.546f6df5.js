(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personage-index"],{"3b4a":function(e,a,t){"use strict";var r=t("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("5176")),i=r(t("6ad5")),o={data:function(){return{fromData:{name:"",card:"",phone:"",mail:"",bankCard:"",education:"",marry:!1,income:"",address1:"",address2:"",linkMan:"",linkManPhone:""},educationArray:["博士","硕士","大学本科","大学专科","高中","高中以下"],educationIndex:-1}},onShow:function(){var e=wx.getStorageSync("user");for(var a in(0,n.default)(this.fromData,e),this.fromData)null===this.fromData[a]&&(this.fromData[a]="");if(this.fromData.education)for(var t in this.educationArray)this.educationArray[t]===this.fromData.education&&(this.educationIndex=t);"true"===this.fromData.marry?this.fromData.marry=!0:this.fromData.marry=!1,this.fromData.positionCode||(this.fromData.positionCode=15e3)},methods:{formSubmit:function(e){var a=this,t=[{name:"realName",checkType:"string",checkRule:"1,4",errorMsg:"请输入姓名！"},{name:"card",checkType:"reg",checkRule:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,errorMsg:"请输入正确的身份证！"},{name:"phone",checkType:"reg",checkRule:/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,errorMsg:"请输入正确的手机号！"},{name:"mail",checkType:"reg",checkRule:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,errorMsg:"请输入正确的邮箱！"},{name:"bankCard",checkType:"reg",checkRule:/^(\d{16}|\d{19})$/,errorMsg:"请输入正确的银行卡！"},{name:"education",checkType:"string",checkRule:"1,10",errorMsg:"请选择学历！"},{name:"income",checkType:"string",checkRule:"1,10",errorMsg:"请输入年收入！"},{name:"address1",checkType:"string",checkRule:"1,30",errorMsg:"请输入工作地址！"},{name:"address2",checkType:"string",checkRule:"1,30",errorMsg:"请输入现居地址！"},{name:"linkMan",checkType:"string",checkRule:"1,4",errorMsg:"请输入紧急联系人！"},{name:"linkManPhone",checkType:"phoneno",checkRule:"",errorMsg:"请输入紧急联系人手机号码！"}],r=e.detail.value;r.education=this.fromData.education;var n=i.default.check(r,t);n?(delete this.fromData.createTime,delete this.fromData.createTimeQuery,this.$post({url:"/api/generalUser/saveMyInfo",data:this.fromData}).then(function(e){100===e.code?(a.$ok("保存成功！"),setTimeout(function(){uni.navigateBack({delta:1})},2e3)):a.$tip(e.msg)})):uni.showToast({title:i.default.error,icon:"none"})},formReset:function(e){console.log("清空数据"),this.chosen=""},educationChange:function(e){console.log(e.detail.value),this.educationIndex=e.detail.value,this.fromData.education=this.educationArray[this.educationIndex]},marryChange:function(e){this.fromData.marry=e.detail.value}}};a.default=o},"5f5e":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"personage"},[t("cu-custom",{attrs:{"bg-color":"bg-gradual-blue",isBack:!0}},[t("template",{attrs:{slot:"backText"},slot:"backText"},[e._v("返回")]),t("template",{attrs:{slot:"content"},slot:"content"},[e._v("资料完善")])],2),t("v-uni-form",{on:{submit:function(a){a=e.$handleEvent(a),e.formSubmit(a)},reset:function(a){a=e.$handleEvent(a),e.formReset(a)}}},[t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("姓名")]),t("v-uni-input",{attrs:{placeholder:"请输入姓名",name:"realName",type:"text"},model:{value:e.fromData.name,callback:function(a){e.$set(e.fromData,"name",a)},expression:"fromData.name"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("身份证")]),t("v-uni-input",{attrs:{placeholder:"请输入身份证",name:"card",type:"text"},model:{value:e.fromData.card,callback:function(a){e.$set(e.fromData,"card",a)},expression:"fromData.card"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("手机号")]),t("v-uni-input",{attrs:{placeholder:"请输入身份证",name:"phone",type:"phone"},model:{value:e.fromData.phone,callback:function(a){e.$set(e.fromData,"phone",a)},expression:"fromData.phone"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("邮箱")]),t("v-uni-input",{attrs:{placeholder:"请输入邮箱",name:"mail",type:"text"},model:{value:e.fromData.mail,callback:function(a){e.$set(e.fromData,"mail",a)},expression:"fromData.mail"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("银行卡")]),t("v-uni-input",{attrs:{placeholder:"请输入银行卡",name:"bankCard",type:"text"},model:{value:e.fromData.bankCard,callback:function(a){e.$set(e.fromData,"bankCard",a)},expression:"fromData.bankCard"}})],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("学历")]),t("v-uni-picker",{attrs:{value:e.educationIndex,range:e.educationArray},on:{change:function(a){a=e.$handleEvent(a),e.educationChange(a)}}},[t("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.educationIndex>-1?e.educationArray[e.educationIndex]:"请选择学历"))])],1)],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("婚否")]),t("v-uni-switch",{class:e.fromData.marry?"checked":"",attrs:{checked:!!e.fromData.marry},on:{change:function(a){a=e.$handleEvent(a),e.marryChange(a)}}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("年收入")]),t("v-uni-input",{attrs:{placeholder:"请输入年收入",name:"income",type:"text"},model:{value:e.fromData.income,callback:function(a){e.$set(e.fromData,"income",a)},expression:"fromData.income"}})],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("工作地址")]),t("v-uni-input",{attrs:{placeholder:"请输入工作地址",name:"address1",type:"text"},model:{value:e.fromData.address1,callback:function(a){e.$set(e.fromData,"address1",a)},expression:"fromData.address1"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("现居地址")]),t("v-uni-input",{attrs:{placeholder:"请输入现居地址",name:"address2",type:"text"},model:{value:e.fromData.address2,callback:function(a){e.$set(e.fromData,"address2",a)},expression:"fromData.address2"}})],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-view",{staticClass:"title"},[e._v("紧急联系人")]),t("v-uni-input",{attrs:{placeholder:"请输入紧急联系人",name:"linkMan",type:"text"},model:{value:e.fromData.linkMan,callback:function(a){e.$set(e.fromData,"linkMan",a)},expression:"fromData.linkMan"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("紧急联系人手机号码")]),t("v-uni-input",{attrs:{placeholder:"请输入紧急联系人手机号码",name:"linkManPhone",type:"text"},model:{value:e.fromData.linkManPhone,callback:function(a){e.$set(e.fromData,"linkManPhone",a)},expression:"fromData.linkManPhone"}})],1),t("v-uni-view",{staticClass:"padding flex flex-direction"},[t("v-uni-button",{staticClass:"cu-btn btnBg margin-tb-sm lg",attrs:{formType:"submit"}},[e._v("保存")])],1)],1)],1)},n=[];t.d(a,"a",function(){return r}),t.d(a,"b",function(){return n})},"6ad5":function(e,a,t){"use strict";t("c5f6"),t("28a5"),t("3b2b"),t("7f7f"),e.exports={error:"",check:function(e,a){for(var t=0;t<a.length;t++){if(!a[t].checkType)return!0;if(!a[t].name)return!0;if(!a[t].errorMsg)return!0;if(!e[a[t].name])return this.error=a[t].errorMsg,!1;switch(a[t].checkType){case"string":var r=new RegExp("^.{"+a[t].checkRule+"}$");if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"int":r=new RegExp("^(-[1-9]|[1-9])[0-9]{"+a[t].checkRule+"}$");if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"between":if(!this.isNumber(e[a[t].name]))return this.error=a[t].errorMsg,!1;var n=a[t].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[a[t].name]>n[1]||e[a[t].name]<n[0])return this.error=a[t].errorMsg,!1;break;case"betweenD":r=/^-?[1-9][0-9]?$/;if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;n=a[t].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[a[t].name]>n[1]||e[a[t].name]<n[0])return this.error=a[t].errorMsg,!1;break;case"betweenF":r=/^-?[0-9][0-9]?.+[0-9]+$/;if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;n=a[t].checkRule.split(",");if(n[0]=Number(n[0]),n[1]=Number(n[1]),e[a[t].name]>n[1]||e[a[t].name]<n[0])return this.error=a[t].errorMsg,!1;break;case"same":if(e[a[t].name]!=a[t].checkRule)return this.error=a[t].errorMsg,!1;break;case"notsame":if(e[a[t].name]==a[t].checkRule)return this.error=a[t].errorMsg,!1;break;case"email":r=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"phoneno":r=/^1[0-9]{10,10}$/;if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"zipcode":r=/^[0-9]{6}$/;if(!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"reg":r=new RegExp(a[t].checkRule);if(console.log(),!r.test(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"in":if(-1==a[t].checkRule.indexOf(e[a[t].name]))return this.error=a[t].errorMsg,!1;break;case"notnull":if(null==e[a[t].name]||e[a[t].name].length<1)return this.error=a[t].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}}},a691:function(e,a,t){"use strict";var r=t("f348"),n=t.n(r);n.a},afb5:function(e,a,t){"use strict";t.r(a);var r=t("5f5e"),n=t("f260");for(var i in n)"default"!==i&&function(e){t.d(a,e,function(){return n[e]})}(i);t("a691");var o=t("2877"),s=Object(o["a"])(n["default"],r["a"],r["b"],!1,null,"c12cb4a4",null);a["default"]=s.exports},f260:function(e,a,t){"use strict";t.r(a);var r=t("3b4a"),n=t.n(r);for(var i in r)"default"!==i&&function(e){t.d(a,e,function(){return r[e]})}(i);a["default"]=n.a},f348:function(e,a,t){var r=t("f435");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=t("4f06").default;n("f048cb4c",r,!0,{sourceMap:!1,shadowMode:!1})},f435:function(e,a,t){a=e.exports=t("2350")(!1),a.push([e.i,".personage .cu-form-group .title[data-v-c12cb4a4]{min-width:calc(4em + 15px)}.personage .btnBg[data-v-c12cb4a4]{background:-webkit-gradient(linear,left top,right top,from(#f43f3b),to(#ec008c));background:-o-linear-gradient(left,#f43f3b,#ec008c);background:linear-gradient(90deg,#f43f3b,#ec008c);color:#fff}",""])}}]);